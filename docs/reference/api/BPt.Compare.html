
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BPt.Compare &#8212; BPt 2.2.0 documentation</title>
    
  <link rel="stylesheet" href="../../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/getting_started.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/pandas.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.d3f166471bb80abb5163.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="BPt.Option" href="BPt.Option.html" />
    <link rel="prev" title="Compare" href="../compare.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">
<div class="container-xl">

    <a class="navbar-brand" href="../../index.html">
    
      <img src="../../_static/red_logo.png" class="logo" alt="logo" />
    
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item ">
            <a class="nav-link" href="../../installation/index.html">Installation</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href=""></a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href=""></a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../user_guide/index.html">User Guide</a>
        </li>
        
        <li class="nav-item active">
            <a class="nav-link" href="../index.html">API reference</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../options/index.html">Default Options</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../change_log/index.html">Change Log</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../cite/index.html">Cite BPt</a>
        </li>
        
        
      </ul>


      

      <ul class="navbar-nav">
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/sahahn/BPt" target="_blank" rel="noopener">
              <span><i class="fab fa-github-square"></i></span>
            </a>
          </li>
        
        
          <li class="nav-item">
            <a class="nav-link" href="https://twitter.com/SageHahn11" target="_blank" rel="noopener">
              <span><i class="fab fa-twitter-square"></i></span>
            </a>
          </li>
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

    <div class="bd-toc-item active">
    
  
    <ul class="nav bd-sidenav">
        
        
        
        
        
        
        
        
        
        
          
            
                <li class="">
                    <a href="../dataset.html">Dataset</a>
                </li>
            
          
            
                <li class="">
                    <a href="../pipeline.html">Pipelines</a>
                </li>
            
          
            
                <li class="">
                    <a href="../pipeline_pieces.html">Pipeline Pieces</a>
                </li>
            
          
            
                <li class="">
                    <a href="../problem_spec.html">ProblemSpec</a>
                </li>
            
          
            
                <li class="">
                    <a href="../CV.html">CV</a>
                </li>
            
          
            
                <li class="">
                    <a href="../input_operations.html">Input Operations</a>
                </li>
            
          
            
  
                <li class="active">
                    <a href="../compare.html">Compare</a>
                    <ul>
                    
                        <li class="active">
                            <a href="">BPt.Compare</a>
                        </li>
                    
                        <li class="">
                            <a href="BPt.Option.html">BPt.Option</a>
                        </li>
                    
                        <li class="">
                            <a href="BPt.CompareDict.html">BPt.CompareDict</a>
                        </li>
                    
                        <li class="">
                            <a href="BPt.compare_dict_from_existing.html">BPt.compare_dict_from_existing</a>
                        </li>
                    
                    </ul>
                </li>
            
          
            
                <li class="">
                    <a href="../dists.html">Parameter Distributions</a>
                </li>
            
          
            
                <li class="">
                    <a href="../evaluate.html">Evaluate</a>
                </li>
            
          
            
                <li class="">
                    <a href="../extensions.html">Extension Classes</a>
                </li>
            
          
            
                <li class="">
                    <a href="../util.html">Util</a>
                </li>
            
          
        
        
        
        
        
        
        
        
      </ul>
  
  </nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
    </ul>
</nav>


              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="bpt-compare">
<h1>BPt.Compare<a class="headerlink" href="#bpt-compare" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="BPt.Compare">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">BPt.</span></span><span class="sig-name descname"><span class="pre">Compare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/sahahn/BPt/blob/master/BPt/main/compare.py#L142-L238"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#BPt.Compare" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a special BPt input class which
can be used as a helper to more easily run comparison
analysis between a few choice of parameters.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>options</strong><span class="classifier">list of values or <a class="reference internal" href="BPt.Option.html#BPt.Option" title="BPt.Option"><code class="xref py py-class docutils literal notranslate"><span class="pre">Option</span></code></a></span></dt><dd><p>This parameter should be a list of options
in which to try each one of. You may pass
these options either directly as values, for example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">options</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;option1&#39;</span><span class="p">,</span> <span class="s1">&#39;option2&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Or as instances of <a class="reference internal" href="BPt.Option.html#BPt.Option" title="BPt.Option"><code class="xref py py-class docutils literal notranslate"><span class="pre">Option</span></code></a>. This
second strategy is reccomended when the underlying
options are objects or something more complex then strings,
for example between two <a class="reference internal" href="BPt.Pipeline.html#BPt.Pipeline" title="BPt.Pipeline"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pipe1</span> <span class="o">=</span> <span class="n">bp</span><span class="o">.</span><span class="n">Pipeline</span><span class="p">([</span><span class="n">bp</span><span class="o">.</span><span class="n">Model</span><span class="p">(</span><span class="s1">&#39;elastic&#39;</span><span class="p">)])</span>
<span class="n">pipe2</span> <span class="o">=</span> <span class="n">bp</span><span class="o">.</span><span class="n">Pipeline</span><span class="p">([</span><span class="n">bp</span><span class="o">.</span><span class="n">Model</span><span class="p">(</span><span class="s1">&#39;ridge&#39;</span><span class="p">)])</span>

<span class="n">options</span> <span class="o">=</span> <span class="p">[</span><span class="n">bp</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">pipe1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;pipe1&#39;</span><span class="p">),</span>
           <span class="n">bp</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">pipe2</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;pipe2&#39;</span><span class="p">)]</span>
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<div class="line-block">
<div class="line">Usage of this object is designed to passed as input
to <a class="reference internal" href="BPt.evaluate.html#BPt.evaluate" title="BPt.evaluate"><code class="xref py py-func docutils literal notranslate"><span class="pre">evaluate()</span></code></a>. Only parameters within <a class="reference internal" href="BPt.evaluate.html#BPt.evaluate" title="BPt.evaluate"><code class="xref py py-func docutils literal notranslate"><span class="pre">evaluate()</span></code></a>
parameters <cite>pipeline</cite> and <cite>problem_spec</cite> (or their associated extra
params) can be passed Compare. That said, some options, while valid
may still make downstream intreptation more difficult, e.g., passing
problem_type with two different Compare values will work, but
will yield results with different metrics.</div>
</div>
<div class="line-block">
<div class="line">When to use Compare? It may be tempting to use Compare to evaluate
different configurations of hyper-parameters, but in most cases
this type of fine-grained usage is discouraged. On a conceptual level,
the usage of Compare should be used to compare the actual underlying
topic of interest! For example, if it
of interest to the underlying research topic,
then Compare can be used between two different <a class="reference internal" href="BPt.Pipeline.html#BPt.Pipeline" title="BPt.Pipeline"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code></a>.
If instead this is not the key point of interest, but you still wish to
try two different, say, <a class="reference internal" href="BPt.Model.html#BPt.Model" title="BPt.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a>, then you would be better off
nesting this choice as a hyper-parameter to optimize
(in this case see: <a class="reference internal" href="BPt.Select.html#BPt.Select" title="BPt.Select"><code class="xref py py-class docutils literal notranslate"><span class="pre">Select</span></code></a>).</div>
</div>
<p class="rubric">Examples</p>
<p>Compare is used with <a class="reference internal" href="BPt.evaluate.html#BPt.evaluate" title="BPt.evaluate"><code class="xref py py-func docutils literal notranslate"><span class="pre">evaluate()</span></code></a>, for example:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">from</span> <span class="nn">BPt.datasets</span> <span class="kn">import</span> <span class="n">load_cali</span>

<span class="gp">In [2]: </span><span class="n">data</span> <span class="o">=</span> <span class="n">bp</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">load_cali</span><span class="p">()</span>
<span class="go">Performing test split on: 20640 subjects.</span>
<span class="go">random_state: 3</span>
<span class="go">Test split size: 0.2</span>

<span class="go">Performed train/test split</span>
<span class="go">Train size: 16512</span>
<span class="go">Test size:  4128</span>

<span class="gp">In [3]: </span><span class="n">data</span><span class="o">.</span><span class="n">shape</span>
<span class="gh">Out[3]: </span><span class="go">(20640, 9)</span>

<span class="gp">In [4]: </span><span class="n">pipe_options</span> <span class="o">=</span> <span class="n">bp</span><span class="o">.</span><span class="n">Compare</span><span class="p">([</span><span class="n">bp</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">bp</span><span class="o">.</span><span class="n">Model</span><span class="p">(</span><span class="s1">&#39;elastic&#39;</span><span class="p">),</span>
<span class="gp">   ...: </span>                                     <span class="n">name</span><span class="o">=</span><span class="s1">&#39;elastic&#39;</span><span class="p">),</span>
<span class="gp">   ...: </span>                           <span class="n">bp</span><span class="o">.</span><span class="n">Option</span><span class="p">(</span><span class="n">bp</span><span class="o">.</span><span class="n">Model</span><span class="p">(</span><span class="s1">&#39;ridge&#39;</span><span class="p">),</span>
<span class="gp">   ...: </span>                                     <span class="n">name</span><span class="o">=</span><span class="s1">&#39;ridge&#39;</span><span class="p">)])</span>
<span class="gp">   ...: </span>

<span class="gp">In [5]: </span><span class="n">bp</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">pipe_options</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">progress_bar</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
<span class="go">Running Compare: Options(pipeline=elastic)</span>
<span class="go">Predicting target = MedHouseVal</span>
<span class="go">Using problem_type = regression</span>
<span class="go">Using scope = all (defining a total of 8 features).</span>
<span class="go">Evaluating 16512 total data points.</span>

<span class="go">Training Set: (13209, 8)</span>
<span class="go">Validation Set: (3303, 8)</span>
<span class="go">Fit fold in 0.0 seconds.</span>
<span class="go">explained_variance: 0.4304</span>
<span class="go">neg_mean_squared_error: -0.7532</span>

<span class="go">Training Set: (13209, 8)</span>
<span class="go">Validation Set: (3303, 8)</span>
<span class="go">Fit fold in 0.2 seconds.</span>
<span class="go">explained_variance: 0.4201</span>
<span class="go">neg_mean_squared_error: -0.7908</span>

<span class="go">Training Set: (13210, 8)</span>
<span class="go">Validation Set: (3302, 8)</span>
<span class="go">Fit fold in 0.3 seconds.</span>
<span class="go">explained_variance: 0.4188</span>
<span class="go">neg_mean_squared_error: -0.7790</span>

<span class="go">Training Set: (13210, 8)</span>
<span class="go">Validation Set: (3302, 8)</span>
<span class="go">Fit fold in 0.2 seconds.</span>
<span class="go">explained_variance: 0.4148</span>
<span class="go">neg_mean_squared_error: -0.8074</span>

<span class="go">Training Set: (13210, 8)</span>
<span class="go">Validation Set: (3302, 8)</span>
<span class="go">Fit fold in 0.1 seconds.</span>
<span class="go">explained_variance: 0.4210</span>
<span class="go">neg_mean_squared_error: -0.7310</span>

<span class="go">Running Compare: Options(pipeline=ridge)</span>
<span class="go">Predicting target = MedHouseVal</span>
<span class="go">Using problem_type = regression</span>
<span class="go">Using scope = all (defining a total of 8 features).</span>
<span class="go">Evaluating 16512 total data points.</span>

<span class="go">Training Set: (13209, 8)</span>
<span class="go">Validation Set: (3303, 8)</span>
<span class="go">Fit fold in 0.0 seconds.</span>
<span class="go">explained_variance: 0.4794</span>
<span class="go">neg_mean_squared_error: -0.6883</span>

<span class="go">Training Set: (13209, 8)</span>
<span class="go">Validation Set: (3303, 8)</span>
<span class="go">Fit fold in 0.0 seconds.</span>
<span class="go">explained_variance: -0.0465</span>
<span class="go">neg_mean_squared_error: -1.43</span>

<span class="go">Training Set: (13210, 8)</span>
<span class="go">Validation Set: (3302, 8)</span>
<span class="go">Fit fold in 0.0 seconds.</span>
<span class="go">explained_variance: 0.4689</span>
<span class="go">neg_mean_squared_error: -0.7119</span>

<span class="go">Training Set: (13210, 8)</span>
<span class="go">Validation Set: (3302, 8)</span>
<span class="go">Fit fold in 0.0 seconds.</span>
<span class="go">explained_variance: 0.4705</span>
<span class="go">neg_mean_squared_error: -0.7306</span>

<span class="go">Training Set: (13210, 8)</span>
<span class="go">Validation Set: (3302, 8)</span>
<span class="go">Fit fold in 0.0 seconds.</span>
<span class="go">explained_variance: 0.4630</span>
<span class="go">neg_mean_squared_error: -0.6780</span>

<span class="gh">Out[5]: </span><span class="go"></span>
<span class="go">          mean_scores_explained_variance  mean_scores_neg_mean_squared_error  std_scores_explained_variance  std_scores_neg_mean_squared_error</span>
<span class="go">pipeline                                                                                                                                      </span>
<span class="go">elastic                         0.421018                           -0.772287                       0.005127                           0.027155</span>
<span class="go">ridge                           0.367062                           -0.847277                       0.206836                           0.290747</span>
</pre></div>
</div>
</dd></dl>

</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="../compare.html" title="previous page">Compare</a>
    <a class='right-next' id="next-link" href="BPt.Option.html" title="next page">BPt.Option</a>

              </div>
              
          </main>
          

      </div>
    </div>

    
  <script src="../../_static/js/index.d3f166471bb80abb5163.js"></script>


    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2020-2022.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.2.0.<br/>
    </p>
  </div>
</footer>
  </body>
</html>